# UAS TypeScript Server

ржПржХржЯрж┐ TypeScript рж╕рж╛рж░рзНржнрж╛рж░ ржпрж╛ ржУрж▓рж╛ржорж╛ AI ржоржбрзЗрж▓рзЗрж░ рж╕рж╛ржерзЗ рж╕ржВржпрзБржХрзНржд ржПржмржВ UAS Admin Panel ржПрж░ ржЬржирзНржп ржмрзНржпрж╛ржХржПржирзНржб API рж╕рж░ржмрж░рж╛рж╣ ржХрж░рзЗред

## ЁЯЪА ржжрзНрж░рзБржд рж╢рзБрж░рзБ

### рзз. ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ ржЗржирж╕рзНржЯрж▓ ржХрж░рзБржи

\`\`\`bash
cd server
npm install
\`\`\`

### рзи. ржПржиржнрж╛ржпрж╝рж░ржиржорзЗржирзНржЯ ржХржиржлрж┐ржЧрж╛рж░ ржХрж░рзБржи

`.env` ржлрж╛ржЗрж▓ржЯрж┐ ржХржкрж┐ ржХрж░рзБржи ржПржмржВ ржЖржкржирж╛рж░ ржкрзНрж░ржпрж╝рзЛржЬржи ржЕржирзБржпрж╛ржпрж╝рзА рж╕ржорзНржкрж╛ржжржирж╛ ржХрж░рзБржи:

\`\`\`bash
# Server Configuration
PORT=8000
NODE_ENV=development
HOST=localhost

# Ollama Configuration
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_DEFAULT_MODEL=codellama:7b

# Security
API_KEY=your_uas_api_key_here
CORS_ORIGIN=http://localhost:3000
\`\`\`

### рзй. рж╕рж╛рж░рзНржнрж╛рж░ ржЪрж╛рж▓рзБ ржХрж░рзБржи

**ржбрзЗржнрзЗрж▓ржкржорзЗржирзНржЯ ржорзЛржб:**

\`\`\`bash
npm run dev
\`\`\`

**ржкрзНрж░рзЛржбрж╛ржХрж╢ржи ржорзЛржб:**

\`\`\`bash
npm run build
npm start
\`\`\`

## ЁЯУб API ржПржирзНржбржкржпрж╝рзЗржирзНржЯрж╕ржорзВрж╣

### Health & Status

- `GET /health` - рж╕рж╛рж░рзНржнрж╛рж░ рж╣рзЗрж▓рже ржЪрзЗржХ
- `GET /health/detailed` - ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд рж╣рзЗрж▓рже ржЗржиржлрж░ржорзЗрж╢ржи
- `GET /status` - рж╕рж┐рж╕рзНржЯрзЗржо рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕
- `GET /status/agents` - ржПржЬрзЗржирзНржЯ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕
- `GET /status/models` - ржоржбрзЗрж▓ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕

### Chat & AI

- `POST /chat/message` - ржЪрзНржпрж╛ржЯ ржорзЗрж╕рзЗржЬ ржкрж╛ржарж╛ржи
- `POST /chat/stream` - рж╕рзНржЯрзНрж░рж┐ржорж┐ржВ ржЪрзНржпрж╛ржЯ
- `POST /chat/generate` - ржЯрзЗржХрзНрж╕ржЯ ржЬрзЗржирж╛рж░рзЗрж╢ржи
- `GET /chat/history` - ржЪрзНржпрж╛ржЯ рж╣рж┐рж╕рзНржЯрж░рж┐

### Models

- `GET /models` - рж╕ржм ржоржбрзЗрж▓рзЗрж░ рж▓рж┐рж╕рзНржЯ
- `GET /models/:modelName` - ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржоржбрзЗрж▓рзЗрж░ рждржерзНржп
- `POST /models/pull` - ржирждрзБржи ржоржбрзЗрж▓ ржбрж╛ржЙржирж▓рзЛржб
- `POST /models/test` - ржоржбрзЗрж▓ ржЯрзЗрж╕рзНржЯ

### Agents

- `GET /agents` - рж╕ржм ржПржЬрзЗржирзНржЯрзЗрж░ рж▓рж┐рж╕рзНржЯ
- `GET /agents/:agentId/status` - ржПржЬрзЗржирзНржЯ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕
- `POST /agents/:agentId/start` - ржПржЬрзЗржирзНржЯ рж╢рзБрж░рзБ ржХрж░рзБржи
- `POST /agents/:agentId/stop` - ржПржЬрзЗржирзНржЯ ржмржирзНржз ржХрж░рзБржи
- `POST /agents/:agentId/call` - ржПржЬрзЗржирзНржЯ ржХрж▓ ржХрж░рзБржи

### Memory

- `GET /memory/conversations` - ржХржиржнрж╛рж░рж╕рзЗрж╢ржи рж▓рж┐рж╕рзНржЯ
- `GET /memory/:conversationId` - ржХржиржнрж╛рж░рж╕рзЗрж╢ржи ржорзЗрж╕рзЗржЬ
- `POST /memory/store` - ржбрзЗржЯрж╛ рж╕рзНржЯрзЛрж░ ржХрж░рзБржи
- `GET /memory/retrieve/:key` - ржбрзЗржЯрж╛ рж░рж┐ржЯрзНрж░рж┐ржн ржХрж░рзБржи
- `POST /memory/search` - ржорзЗржорзЛрж░рж┐ рж╕рж╛рж░рзНржЪ ржХрж░рзБржи

### CLI Agent

- `POST /cli-agent/execute` - ржХржорж╛ржирзНржб ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯ ржХрж░рзБржи
- `GET /cli-agent/system-info` - рж╕рж┐рж╕рзНржЯрзЗржо ржЗржиржлрж░ржорзЗрж╢ржи
- `GET /cli-agent/allowed-commands` - ржЕржирзБржорзЛржжрж┐ржд ржХржорж╛ржирзНржб
- `POST /cli-agent/test` - CLI ржЯрзЗрж╕рзНржЯ

### Editor Integration

- `POST /editor/send` - ржПржбрж┐ржЯрж░рзЗ ржХржиржЯрзЗржирзНржЯ ржкрж╛ржарж╛ржи
- `GET /editor/file-info` - ржлрж╛ржЗрж▓ ржЗржиржлрж░ржорзЗрж╢ржи
- `GET /editor/list-directory` - ржбрж┐рж░рзЗржХрзНржЯрж░рж┐ рж▓рж┐рж╕рзНржЯ
- `GET /editor/test` - ржПржбрж┐ржЯрж░ ржЯрзЗрж╕рзНржЯ

## ЁЯФз ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи

### Ollama рж╕рзЗржЯржЖржк

1. Ollama ржЗржирж╕рзНржЯрж▓ ржХрж░рзБржи: <https://ollama.ai/>
2. ржПржХржЯрж┐ ржоржбрзЗрж▓ ржбрж╛ржЙржирж▓рзЛржб ржХрж░рзБржи: `ollama pull codellama:7b`
3. Ollama рж╕рж╛рж░рзНржнрж╛рж░ ржЪрж╛рж▓рзБ ржХрж░рзБржи: `ollama serve`

### ржПржиржнрж╛ржпрж╝рж░ржиржорзЗржирзНржЯ ржнрзНржпрж╛рж░рж┐ржпрж╝рзЗржмрж▓

\`\`\`bash
# рж╕рж╛рж░рзНржнрж╛рж░ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи
PORT=8000
NODE_ENV=development
HOST=localhost

# ржУрж▓рж╛ржорж╛ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_DEFAULT_MODEL=codellama:7b

# ржбрж╛ржЯрж╛ржмрзЗржЬ (ржРржЪрзНржЫрж┐ржХ)
DATABASE_URL=mysql://root:password@localhost:3306/uas_admin

# ржирж┐рж░рж╛ржкрждрзНрждрж╛
API_KEY=your_uas_api_key_here
SESSION_SECRET=your_session_secret_here
CORS_ORIGIN=http://localhost:3000

# ржлрж┐ржЪрж╛рж░ ржлрзНрж▓рзНржпрж╛ржЧ
MEMORY_AGENT_ENABLED=true
CLI_AGENT_ENABLED=true
LOAD_BALANCER_ENABLED=true
AUDIO_CHAT_ENABLED=false
\`\`\`

## ЁЯМР WebSocket рж╕рж╛ржкрзЛрж░рзНржЯ

рж╕рж╛рж░рзНржнрж╛рж░ WebSocket ржХрж╛ржирзЗржХрж╢ржи рж╕рж╛ржкрзЛрж░рзНржЯ ржХрж░рзЗ рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржо ржЖржкржбрзЗржЯрзЗрж░ ржЬржирзНржп:

\`\`\`javascript
const ws = new WebSocket('ws://localhost:8000');

ws.onmessage = (event) => {
  const data = JSON.parse(event.data);
  console.log('Received:', data);
};

// ржЗржнрзЗржирзНржЯ рж╕рж╛ржмрж╕рзНржХрзНрж░рж╛ржЗржм ржХрж░рзБржи
ws.send(JSON.stringify({
  type: 'subscribe',
  data: { events: ['agent.status', 'metrics.update'] }
}));
\`\`\`

## ЁЯУК ржоржирж┐ржЯрж░рж┐ржВ

### рж▓ржЧ ржлрж╛ржЗрж▓

- `logs/error.log` - ржПрж░рж░ рж▓ржЧ
- `logs/combined.log` - рж╕ржм рж▓ржЧ
- `logs/exceptions.log` - ржПржХрзНрж╕рзЗржкрж╢ржи рж▓ржЧ

### рж╣рзЗрж▓рже ржЪрзЗржХ

\`\`\`bash
curl http://localhost:8000/health
\`\`\`

## ЁЯФТ ржирж┐рж░рж╛ржкрждрзНрждрж╛

- API Key ржЕржерзЗржиржЯрж┐ржХрзЗрж╢ржи
- CORS ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи
- ржкрж╛рже ржЯрзНрж░рж╛ржнрж╛рж░рзНрж╕рж╛рж▓ рж╕рзБрж░ржХрзНрж╖рж╛
- ржХржорж╛ржирзНржб ржПржХрзНрж╕рж┐ржХрж┐ржЙрж╢ржи рж╕рзАржорж╛ржмржжрзНржзрждрж╛
- рж░рзЗржЯ рж▓рж┐ржорж┐ржЯрж┐ржВ

## ЁЯЪА Admin Panel ржПрж░ рж╕рж╛ржерзЗ рж╕ржВржпрзЛржЧ

Admin Panel ржПрж░ `.env.local` ржлрж╛ржЗрж▓рзЗ ржПржЗ URL ржпрзЛржЧ ржХрж░рзБржи:

\`\`\`bash
UAS_API_URL=http://localhost:8000
UAS_API_KEY=your_uas_api_key_here
\`\`\`

## ЁЯЫая╕П ржЯрзНрж░рж╛ржмрж▓рж╢рзБржЯрж┐ржВ

### ржУрж▓рж╛ржорж╛ ржХрж╛ржирзЗржХрж╢ржи рж╕ржорж╕рзНржпрж╛

\`\`\`bash
# ржУрж▓рж╛ржорж╛ рж╕рж╛рж░рзНржнрж╛рж░ ржЪрзЗржХ ржХрж░рзБржи
curl http://localhost:11434/api/tags

# ржУрж▓рж╛ржорж╛ рж░рж┐рж╕рзНржЯрж╛рж░рзНржЯ ржХрж░рзБржи
ollama serve
\`\`\`

### ржкрзЛрж░рзНржЯ ржХржиржлрзНрж▓рж┐ржХрзНржЯ

\`\`\`bash
# ржкрзЛрж░рзНржЯ 8000 ржмрзНржпржмрж╣рж╛рж░рзЗ ржЖржЫрзЗ ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░рзБржи
netstat -ano | findstr :8000
\`\`\`

### рж▓ржЧ ржЪрзЗржХ ржХрж░рзБржи

\`\`\`bash
tail -f logs/combined.log
\`\`\`

## ЁЯУЭ ржбрзЗржнрзЗрж▓ржкржорзЗржирзНржЯ

### ржирждрзБржи рж░рзБржЯ ржпрзЛржЧ ржХрж░рзБржи

1. `src/routes/` ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржирждрзБржи рж░рзБржЯ ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзБржи
2. `src/index.ts` ржП рж░рзБржЯ ржЗржоржкрзЛрж░рзНржЯ ржХрж░рзБржи
3. `app.use('/new-route', newRouteRouter)` ржпрзЛржЧ ржХрж░рзБржи

### ржирждрзБржи рж╕рж╛рж░рзНржнрж┐рж╕ ржпрзЛржЧ ржХрж░рзБржи

1. `src/services/` ржлрзЛрж▓рзНржбрж╛рж░рзЗ рж╕рж╛рж░рзНржнрж┐рж╕ ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзБржи
2. ржкрзНрж░ржпрж╝рзЛржЬржи ржЕржирзБржпрж╛ржпрж╝рзА рж░рзБржЯрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи

## ЁЯУД рж▓рж╛ржЗрж╕рзЗржирзНрж╕

MIT License

## ЁЯдЭ рж╕рж╣рж╛ржпрж╝рждрж╛

ржХрзЛржирзЛ рж╕ржорж╕рзНржпрж╛ рж╣рж▓рзЗ рж▓ржЧ ржлрж╛ржЗрж▓ ржЪрзЗржХ ржХрж░рзБржи ржмрж╛ GitHub ржП ржЗрж╕рзНржпрзБ рждрзИрж░рж┐ ржХрж░рзБржиред
